# -*- coding: utf-8 -*-
"""
Created on Fri Aug  6 16:32:05 2021

@author: busach
"""

import graphviz

#Transitions
d = graphviz.Digraph('Environment', filename = 'Conveyor_Network.gv', engine = 'dot')
d.attr('node', shape = 'rectangle', width = '0.6', height = '1.0')
d.node('t1_12', 't1_12')
d.node('t2_12', 't2_12')
d.node('t1_21', 't1_21')
d.node('t2_21', 't2_21')
d.node('t1_19', 't1_19')
d.node('t2_19', 't2_19')
d.node('t1_91', 't1_91')
d.node('t2_91', 't2_91')
d.node('t1_96', 't1_96')
d.node('t2_96', 't2_96')
d.node('t1_69', 't1_69')
d.node('t2_69', 't2_69')
d.node('t1_63', 't1_63')
d.node('t2_63', 't2_63')
d.node('t1_36', 't1_36')
d.node('t2_36', 't2_36')
d.node('t1_32', 't1_32')
d.node('t2_32', 't2_32')
d.node('t1_23', 't1_23')
d.node('t2_23', 't2_23')
d.node('t1_34', 't1_34')
d.node('t2_34', 't2_34')
d.node('t1_43', 't1_43')
d.node('t2_43', 't2_43')
d.node('t1_42', 't1_42')
d.node('t2_42', 't2_42')
d.node('t1_24', 't1_24')
d.node('t2_24', 't2_24')
d.node('t1_45', 't1_45')
d.node('t2_45', 't2_45')
d.node('t1_54', 't1_54')
d.node('t2_54', 't2_54')
d.node('t1_57', 't1_57')
d.node('t2_57', 't2_57')
d.node('t1_75', 't1_75')
d.node('t2_75', 't2_75')
d.node('t1_76', 't1_76')
d.node('t2_76', 't2_76')
d.node('t1_67', 't1_67')
d.node('t2_67', 't2_67')
d.node('t1_58', 't1_58')
d.node('t2_58', 't2_58')
d.node('t1_85', 't1_85')
d.node('t2_85', 't2_85')
d.node('t1_78', 't1_78')
d.node('t2_78', 't2_78')
d.node('t1_87', 't1_87')
d.node('t2_87', 't2_87')
d.node('t1_80', 't1_80')
d.node('t2_80', 't2_80')
d.node('t1_08', 't1_08')
d.node('t1_90', 't1_90')
d.node('t2_90', 't2_90')
d.node('t1_09', 't1_09')
d.node('t1_0', 't1_0')
d.node('t2_0', 't2_0')
d.node('t1_out', 't1_out')
d.node('t1_W1_lr', 't1_W1_lr')
d.node('t1_W1_rl', 't1_W1_rl')
d.node('t1_W2_lr', 't1_W2_lr')
d.node('t1_W2_rl', 't1_W2_rl')

#Places
d.attr('node', shape = 'circle', width = '1.0')
d.node('in', 'in')
d.node('c12', 'c12')
d.node('c21', 'c21')
d.node('c19', 'c19')
d.node('c91', 'c91')
d.node('c23', 'c23')
d.node('c24', 'c24')
d.node('c32', 'c32')
d.node('c42', 'c42')
d.node('c90', 'c90')
d.node('c09', 'c09')
d.node('c96', 'c96')
d.node('c69', 'c69')
d.node('c36', 'c36')
d.node('c63', 'c63')
d.node('c34', 'c34')
d.node('c43', 'c43')
d.node('c45', 'c45')
d.node('c54', 'c54')
d.node('c67', 'c67')
d.node('c76', 'c76')
d.node('c57', 'c57')
d.node('c75', 'c75')
d.node('c78', 'c78')
d.node('c87', 'c87')
d.node('c58', 'c58')
d.node('c85', 'c85')
d.node('c80', 'c80')
d.node('c08', 'c08')
d.node('out', 'out')
d.node('Black', 'Black')
d.node('Red', 'Red')
d.node('Blue', 'Blue')
d.node('Green', 'Green')
d.node('cW1_lr', 'cW1_lr')
d.node('cW1_rl', 'cW1_rl')
d.node('cW2_lr', 'cW2_lr')
d.node('cW2_rl', 'cW2_rl')

#Arcs
d.edge('in', 't1_19')
d.edge('in', 't1_12')
d.edge('t1_12', 'c12', 'B')
d.edge('c12', 't1_23')
d.edge('c12', 't1_24')
d.edge('t1_23', 'c23', 'B')
d.edge('c23', 't1_34')
d.edge('c23', 't1_36')
d.edge('t1_36', 'c36', 'B')
d.edge('c36', 't2_69')
d.edge('c36', 't1_67')
d.edge('t1_67', 'c67', 'B')
d.edge('c67', 't1_75')
d.edge('c67', 't1_78')
d.edge('t1_78', 'c78', 'B')
d.edge('c78', 't1_80')
d.edge('c78', 't1_85')
d.edge('t1_80', 'c80', 'B')
d.edge('c80', 't1_0')
d.edge('c80', 't1_09')
d.edge('t1_0', 'out', 'B')
d.edge('out', 't1_out')
d.edge('t1_09', 'c09', 'B')
d.edge('c09', 't2_96')
d.edge('c09', 't2_91')
d.edge('t2_96', 'c96', 'B')
d.edge('t1_19', 'c19', 'B')
d.edge('c19', 't1_90')
d.edge('c19', 't1_96')
d.edge('t1_96', 'c96', 'B')
d.edge('c96', 't1_63')
d.edge('c96', 't2_67')
d.edge('t2_67', 'c67', 'B')
d.edge('t1_90', 'c90', 'B')
d.edge('c90', 't2_0')
d.edge('c90', 't1_08')
d.edge('t2_0', 'out', 'B')
d.edge('t1_08', 'c08', 'B')
d.edge('c08', 't2_85')
d.edge('c08', 't1_87')
d.edge('t1_87', 'c87', 'B')
d.edge('c87', 't1_76')
d.edge('c87', 't2_75')
d.edge('t1_76', 'c76', 'B')
d.edge('c76', 't2_63')
d.edge('c76', 't1_69')
d.edge('t1_69', 'c69', 'B')
d.edge('t2_69', 'c69', 'B')
d.edge('c69', 't2_90')
d.edge('c69', 't1_91')
d.edge('t2_90', 'c90', 'B')
d.edge('t1_91', 'c91', 'B')
d.edge('t2_91', 'c91', 'B')
d.edge('c91', 't2_12')
d.edge('t2_12', 'c12', 'B')
d.edge('t1_63', 'c63', 'B')
d.edge('t2_63', 'c63', 'B')
d.edge('c63', 't2_34')
d.edge('c63', 't1_32')
d.edge('t1_32', 'c32', 'B')
d.edge('c32', 't2_24')
d.edge('c32', 't1_21')
d.edge('t1_21', 'c21', 'B')
d.edge('c21', 't2_19')
d.edge('t2_19', 'c19', 'B')

#Way to workstation 1 from node right to left
d.edge('t1_24', 'c24', 'B')
d.edge('t2_24', 'c24', 'B')
d.edge('c24', 't1_W1_rl')
d.edge('Red', 't1_W1_rl')
d.edge('Green', 't1_W1_rl')
d.edge('t1_W1_rl', 'cW1_rl', 'B')
d.edge('cW1_rl', 't1_45')
d.edge('cW1_rl', 't1_43')
#----------------------------------------------

d.edge('t1_43', 'c43', 'B')
d.edge('c43', 't2_36')
d.edge('c43', 't2_32')
d.edge('t2_36', 'c36', 'B')
d.edge('t2_32', 'c32', 'B')
d.edge('t1_34', 'c34', 'B')
d.edge('c34', 't1_42')
d.edge('c34', 't2_45')

#Way to workstation 1 from node left to right
d.edge('t1_42', 'c42', 'B')
d.edge('c42', 't1_W1_lr')
d.edge('Red', 't1_W1_lr')
d.edge('Green', 't1_W1_lr')
d.edge('t1_W1_lr', 'cW1_lr', 'B')
d.edge('cW1_lr', 't2_21')
d.edge('cW1_lr', 't2_23')
#---------------------------------------------

d.edge('t2_21', 'c21', 'B')
d.edge('t2_23', 'c23', 'B')
d.edge('t1_45', 'c45', 'B')
d.edge('c45', 't1_57')
d.edge('c45', 't1_58')
d.edge('t2_45', 'c45', 'B')
d.edge('t1_57', 'c57', 'B')
d.edge('c57', 't2_78')
d.edge('c57', 't2_76')
d.edge('t2_75', 'c75', 'B')
d.edge('t2_78', 'c78', 'B')
d.edge('t2_76', 'c76', 'B')
d.edge('t1_75', 'c75', 'B')
d.edge('c75', 't1_54')
d.edge('c75', 't2_58')
d.edge('t1_54', 'c54', 'B')
d.edge('c54', 't2_42')
d.edge('c54', 't2_43')
d.edge('t2_42', 'c42', 'B')
d.edge('t2_43', 'c43', 'B')

#Way to workstation 2 from node right to left
d.edge('t1_58', 'c58', 'B')
d.edge('t2_58', 'c58', 'B')
d.edge('c58', 't1_W2_rl')
d.edge('Black', 't1_W2_rl')
d.edge('Blue', 't1_W2_rl')
d.edge('t1_W2_rl', 'cW2_rl', 'B')
d.edge('cW2_rl', 't2_87')
d.edge('cW2_rl', 't2_80')
#---------------------------------------------

d.edge('t2_87', 'c87', 'B')
d.edge('t2_80', 'c80', 'B')

#Way to workstation 2 from node left tp right
d.edge('t1_85', 'c85', 'B')
d.edge('t2_85', 'c85', 'B')
d.edge('c85', 't1_W2_lr')
d.edge('Black', 't1_W2_lr')
d.edge('Blue', 't1_W2_lr')
d.edge('t1_W2_lr', 'cW2_lr', 'B')
d.edge('cW2_lr', 't2_54')
d.edge('cW2_lr', 't2_57')
#---------------------------------------------

d.edge('t2_57', 'c57', 'B')
d.edge('t2_54', 'c54', 'B')
d.edge('t2_34', 'c34', 'B')

#setup
d.attr(overlap = 'false')
d.attr(rank = 'same')
d.attr(label = r'Petri Net model of Conveyor Network', fontsize = '24.0')
d.attr(fontsize = '14')

d.view()
